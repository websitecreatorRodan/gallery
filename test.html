<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rodan's Haunted Nature Realm</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: #fff;
        }

        .container {
            max-width: 1200px;
            margin: auto;
            padding: 20px;
        }

        .heading {
            margin-bottom: 20px;
        }

        .dropdown {
            margin-bottom: 20px;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
        }

        .gallery img {
            width: 100%;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .gallery img:hover {
            transform: scale(1.05);
        }

        .footer {
            margin-top: 40px;
            font-size: 14px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #222;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .modal-content img {
            max-width: 90%;
            max-height: 80vh;
            border-radius: 8px;
        }

        .close-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 24px;
            cursor: pointer;
        }

        .download-btn {
            display: inline-block;
            margin-top: 10px;
            padding: 10px 20px;
            background-color: #444;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
        }

        .download-btn:hover {
            background-color: #666;
        }

        #fogCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #pumpkinScene {
            position: relative;
            height: 400px; /* Adjust height as needed */
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <!-- Fog Canvas -->
    <canvas id="fogCanvas"></canvas>
    <!-- Pumpkin Animation Scene -->
    <div id="pumpkinScene"></div>

    <div class="container mx-auto p-4">
        <div class="heading">
            <h1 id="mainTitle" class="text-3xl font-bold text-center mb-6"></h1>
        </div>

        <div class="dropdown mb-4">
            <label for="sortOrder">Summon Images: </label>
            <select id="sortOrder">
                <option value="newest">Fresh Nightmares</option>
                <option value="oldest">Ancient Terrors</option>
            </select>
        </div>

        <div class="gallery" id="gallery">
            <!-- Images will be added dynamically using JavaScript -->
        </div>
    </div>

    <div class="footer text-center mt-4">
        <p>&copy; 2023 Rodan's Haunted Nature Realm. Abandon all hope, ye who enter here. | Captured by <a href="#">The Spectral Rodan</a></p>
    </div>

    <!-- Modal Structure -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="close-btn" id="closeBtn">&times;</button>
            <img src="" alt="Nightmarish Nature Scene" id="fullImage" class="mb-4">
            <a href="" id="downloadLink" class="download-btn" download>Trap Soul</a> <!-- Download link -->
        </div>
    </div>

    <script>
        // Three.js Setup for Fog Effect  
        let fogScene, fogCamera, fogRenderer, fogGeometry, fogMaterial, fogMesh;  

        function initFog() {  
            fogScene = new THREE.Scene();  
            fogCamera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);  
            fogRenderer = new THREE.WebGLRenderer({ canvas: document.getElementById('fogCanvas'), alpha: true });  
            fogRenderer.setSize(window.innerWidth, window.innerHeight);  

            const fogTexture = new THREE.TextureLoader().load('https://i.imgur.com/8wR3p2k.png'); // Placeholder texture  
            fogMaterial = new THREE.MeshBasicMaterial({ map: fogTexture, transparent: true, opacity: 0.5 });  
            fogGeometry = new THREE.PlaneGeometry(100, 100);  
            fogMesh = new THREE.Mesh(fogGeometry, fogMaterial);  
            fogMesh.position.z = -50;  
            fogScene.add(fogMesh);  

            animateFog();  
        }  

        function animateFog() {  
            requestAnimationFrame(animateFog);  
            fogMesh.position.x += 0.02;  
            fogMesh.position.y += 0.01;  
            fogRenderer.render(fogScene, fogCamera);  
        }  

        // Image Arrays: Cover Images and Raw Images  
        const coverImages = [  
            "1.jpg",  
            "https://via.placeholder.com/150/FF0000/FFFFFF?text=Cover2",  
            "https://via.placeholder.com/150/00FF00/FFFFFF?text=Cover3"  
        ];  
        const rawImages = [  
             "3.jpg", "5.jpg", "6.jpg", "8.jpg", "9.jpg", "10.jpg", "11.jpg", "13.jpg", "14.jpg",   
            "15.jpg", "16.jpg", "17.jpg", "18.jpg", "19.jpg", "20.jpg", "21.jpg", "22.jpg", "23.jpg", "24.jpg",   
            "26.jpg", "27.jpg", "28.jpg", "30.jpg", "31.jpg", "32.jpg", "33.jpg", "34.jpg", "35.jpg", "36.jpg",   
            "37.jpg", "38.jpg", "39.jpg", "40.jpg", "41.jpg", "42.jpg", "43.jpg", "44.jpg", "45.jpg", "46.jpg",   
            "47.jpg", "48.jpg", "49.jpg", "50.jpg", "51.jpg", "52.jpg", "53.jpg", "54.jpg", "55.jpg", "56.jpg",   
            "57.jpg", "58.jpg", "59.jpg", "60.jpg", "61.jpg", "62.jpg", "64.jpg", "65.jpg", "66.jpg", "67.jpg",   
            "68.jpg", "69.jpg", "71.jpg", "73.jpg", "74.jpg", "75.jpg", "76.jpg", "77.jpg", "79.jpg", "80.jpg",   
            "81.jpg", "82.jpg", "84.jpg", "85.jpg", "87.jpg", "88.jpg", "90.jpg", "91.jpg", "92.jpg", "93.jpg",   
            "94.jpg", "95.jpg", "96.jpg", "97.jpg", "98.jpg", "99.jpg", "100.jpg", "101.jpg", "102.jpg", "103.jpg",   
            "104.jpg", "105.jpg", "106.jpg", "107.jpg", "108.jpg", "109.jpg", "110.jpg", "111.jpg", "112.jpg",   
            "113.jpg", "115.jpg", "116.jpg", "117.jpg", "118.jpg", "119.jpg", "120.jpg", "121.jpg", "122.jpg",   
            "123.jpg", "124.jpg"
        ];  

        document.addEventListener("DOMContentLoaded", function () {  
            initFog();  
            document.getElementById("mainTitle").textContent = "Rodan's Haunted Nature Realm";  
            createGallery(coverImages, rawImages);  

            // Modal close functionality  
            document.getElementById("closeBtn").addEventListener("click", function () {  
                document.getElementById("modal").style.display = "none";  
            });  
        });  

        function createGallery(covers, raws) {  
            const galleryContainer = document.getElementById("gallery");  
            galleryContainer.innerHTML = "";  
            covers.forEach((coverUrl, index) => {  
                const imageBox = document.createElement("div");  
                const img = document.createElement("img");  
                img.src = coverUrl;  
                img.alt = "Nightmarish Nature Scene";  
                img.addEventListener("click", () => openModal(raws[index])); // Open modal with raw image  

                imageBox.appendChild(img);  
                galleryContainer.appendChild(imageBox);  
            });  
        }  

        function openModal(rawImageSrc) {  
            const modal = document.getElementById("modal");  
            const fullImage = document.getElementById("fullImage");  
            const downloadLink = document.getElementById("downloadLink");  

            fullImage.src = rawImageSrc;  
            downloadLink.href = rawImageSrc; // Set the download link to the raw image  
            modal.style.display = "flex"; // Show modal  
        }  

        // Add sorting functionality if needed  
        document.getElementById("sortOrder").addEventListener("change", function (e) {  
            const sortedCovers = e.target.value === "newest" ? coverImages.slice().reverse() : coverImages;  
            const sortedRaws = e.target.value === "newest" ? rawImages.slice().reverse() : rawImages;  
            createGallery(sortedCovers, sortedRaws);  
        });  
    </script>
</body>
</html>
